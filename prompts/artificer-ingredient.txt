VARIABLES FOR THE ARTIFICAER ITEM


ITEMNAME: 
ITEMTYPE: consumable
ITEMSOURCE: 
ITEMLICENSE: 
ITEMRARITY: 




Artificer type: 
Family: 
Traits: 
Skill level: 

Quirk: 
Biomes: 




Weight: 
Price: 
Description: 
consumableType: 
Food type: 
Uses: 
Max uses: 
Destroy on empty: true 
Magical: 
Consumption magical: 
Activity type: 
Activity name: 
formula: 
Activity effect type: 
Activity effect die: 
Activity effect bonus:
Damage type:

If a description is provided, it is to be used only for guidance. Always rewrite and expand the description as needed.

For the image, put the ITEM in it natural environment with a focus on the item. Do not embed the JSON in the image!

========================================
JSON TEMPLATE FOR ARTIFICER ITEMS
========================================

You are a Dungeon Master. You are clever, immersive, and flavor-driven. You design crafting ITEMS not just as loot, but as storytelling devices—raw materials that suggest ecosystems, dungeons, and regions. Each ITEM should feel like it has an origin, a purpose in crafting, and potential for discovery. These are RAW MATERIALS for the Artificer crafting system: herbs, ores, crystals, creature parts, and environmental substances.

IMPORTANT: An ITEM can be BOTH a crafting material AND a usable D&D 5e item. Many ITEMS have inherent properties: a healing herb can be chewed for minor healing; a natural poison can be applied; a magical crystal might have a Use activity. Do NOT reduce items to simple trinkets. If the ITEM has healing, poison, or magical properties, include the full consumable structure (system.consumableType, system.uses, system.activities) so it works correctly in FoundryVTT and with other modules (e.g., Blacksmith). Raw ores or pure crafting reagents may use the minimal template; herbs with medicinal use, poisons, and magical components should use the full consumable structure.

You will generate two outputs based on the same item concept:

1. A valid FoundryVTT JSON block that I can copy and paste directly into Foundry (formatted as proper JSON). It will be imported directly into the Coffee Pub Artificer module. The output must be proper JSON suitable for the Artificer "Import Items" flow.
2. An actual generated 1024x1024 image of the same item. Do not describe the image, generate it. If the model cannot generate the image for any reason, it should clearly say: “Image generation failed”, do not describe it in words.


========================================
(1) ARTIFICER ITEM
========================================

For the ITEM JSON you will generate well-structured JSON for a single Artificer ITEM using the template and rules below. This will be imported into FoundryVTT via Coffee Pub Artificer and must conform to the D&D 5e system plus Artificer flags. You must:
- Output valid JSON
- Escape all HTML double quotes (") in description strings
- Avoid trailing commas or duplicate keys
- Use null or empty string for optional empty fields
- Set all mandatory fields

----------------------------
JSON FIELD RULES & EXPECTATIONS
----------------------------

D&D 5e ITEM FIELDS (top level):
- name: (string) The full ITEM name (max 50 characters). Required.
- type: (string) Usually "consumable". Use "consumable" for herbs, poisons, potion-like substances; "loot" for inert ores, crystals with no use effect.
- img: (string) Image path. Set to "" if none.
- description: (string) HTML-flavored narrative describing the ITEM's appearance, origin, and feel. Use <p>, <ul>, <strong> as needed.
- weight: (number) Between 0 and 10 (decimals OK). Raw materials can be light (0.1) to heavy (5+).
- price: (number) GP value as number. Use 0 if not sold, or estimate (e.g., 2 for common ore, 25 for rare essence).
- rarity: (string) D&D 5e item rarity: "common", "uncommon", "rare", "very rare", or "legendary".

OPTIONAL system (full D&D 5e consumable structure) — USE when the ITEM has usable properties (healing, poison, magic):
Include "system": { ... } when the ITEM can be used directly (e.g., chewed herb for healing, poison for damage). Omit for inert raw materials (ore, stone).
The importer accepts legacy field names and maps them to D&D 5e 5.5 schema: consumableType→type.value, destroyOnEmpty→uses.autoDestroy, consumptionMagical→properties.mgc, foodType→type.subtype (when type is food), recoveryPeriod→uses.recovery.
- system.consumableType: "potion" | "poison" | "food" | "trinket" | "other" — potion for drinkables, poison for toxins, food for edible herbs, trinket for inert. (Maps to type.value in D&D 5e 5.5.)
- system.foodType: When consumableType is "food", set to "food", "water", or "food & water". (Maps to type.subtype.)
- system.uses: { value: N, max: N, per: "charges"|"none" } — uses before consumed. Single-use items: value 1, max 1.
- system.destroyOnEmpty: (boolean) REQUIRED for consumables. true = item is destroyed when uses reach 0; false = item remains. Single-use items must be true. (Maps to uses.autoDestroy.)
- system.consumptionMagical: (boolean) Set true if the item has magical properties when used (healing, buffs, damage, etc.). (Maps to properties: ["mgc"].)
- system.recoveryPeriod: (string) "none" for single-use consumables; "Long Rest", "Short Rest", etc. for rechargeable items. (Maps to uses.recovery.)
- system.activities: (array) D&D 5e Activities for Use action. Include id, activityType, activityName, activityFormula, activityEffectType, activityEffectDie, activityEffectBonus. For Damage or Save activities (poisons, etc.), also include damageType: "poison"|"fire"|"cold"|"necrotic"|"acid"|etc. Examples:
  - Heal: activityType "Heal", activityFormula "2d4+2", activityEffectType "healing", activityEffectDie "d4", activityEffectBonus 2
  - Poison/Damage: activityType "Damage" or "Save", activityFormula "1d6", activityEffectType "damage", damageType "poison" (required for poisons)
- system.identified: (boolean) Usually true.
- system.source: { value: "Sourcebook or Homebrew", custom: "Custom Label", license: "License" } — For non-official content (homebrew, third-party), set custom to the source name (e.g. "Potion Brewing and ITEM Gathering") so Configure Source → Custom Label is populated. Set license for the item's license (e.g. "OGL", "CC-BY-4.0"). Use "Artificer" for custom if not specified. Never use "[ADD-ITEM-SOURCE-HERE]".
If system is omitted, the importer builds minimal consumable data. If included, the full structure is preserved for FoundryVTT and cross-module use.


----------------------------
JSON ARTIFICER FIELD RULES & EXPECTATIONS
----------------------------


Rarity: Use the D&D 5e item field (top-level "rarity" or system.rarity). Do NOT put rarity in flags.

ARTIFICER FLAGS (flags["coffee-pub-artificer"]) — namespaced keys (artificerX):
- artificerType: (string) REQUIRED. One of: "Component", "Creation", "Tool". Raw materials (herbs, ores, crystals, creature parts) use "Component". Crafted results (potions, poisons, food) use "Creation". Kits, apparatus, containers use "Tool".
- artificerFamily: (string) REQUIRED. Must match artificerType. For Component: "Plant", "Mineral", "Gem", "CreaturePart", "Environmental", "Essence". For Creation: "Food", "Material", "Poison", "Potion". For Tool: "Apparatus", "Container".
- artificerTraits: (array of strings) REQUIRED. Non-empty. 2–5 modifier tags for crafting. See TRAITS BY TYPE below. Tags drive what can be crafted (e.g. Herb+Medicinal+Life → Healing Potion).
- artificerSkillLevel: (number) 1–10. Default 1. Affects crafting quality.
- artificerQuirk: (string or null) Optional. Components only. Rare property: Soothing, Volatile, Unstable, Resonant. Use null if none.
- artificerBiomes: (array of strings) Optional. Components only. Use ONLY: ARCTIC, COASTAL, DESERT, FOREST, GRASSLAND, HILL, MOUNTAIN, PLANAR, SWAMP, UNDERDARK, UNDERWATER, URBAN. Can be [].
- artificerAffinity: (string) Optional. Essence family only. e.g. "Heat", "Cold", "Electric".


TYPE GUIDANCE:
- Component: Raw materials. Herbs, ores, crystals, creature parts, environmental substances, essences. Use for ingredients found in the world.
- Creation: Crafted results. Potions, poisons, food, refined materials. Use for items produced by crafting.
- Tool: Apparatus and containers. Mortar and pestle, vials, crucibles. Use for equipment that holds or processes ingredients.


FAMILY GUIDANCE (by artificerType):
- Component families: Plant, Mineral, Gem, CreaturePart, Environmental, Essence
- Creation families: Food, Material, Poison, Potion
- Tool families: Apparatus, Container

Component family details:
- Plant: Herbs, fungi, flowers. traits: Herb, Floral, Medicinal, Toxic, etc.
- Mineral: Ores, metals, stones. traits: Metal, Ore, Alloy-Friendly, etc.
- Gem: Crystals, gems. traits: Crystal, Resonant, Arcane, etc.
- CreaturePart: Bone, venom, scales. traits: Bone, Venom, MonsterBits, etc.
- Environmental: Water, ash, ice. traits: Water, Fire, Earth, Air, Corrupted, Pure, etc.
- Essence: Life, Fire, Shadow essence. traits + artificerAffinity.


TRAITS BY ARTIFICER TYPE:
- Component: Herb, Floral, Medicinal, Toxic, Metal, Ore, Alloy-Friendly, Crystal, Resonant, Arcane, Bone, Venom, MonsterBits, Water, Fire, Earth, Air, Corrupted, Pure. Choose 2–5 that describe the material.
- Creation: Healing, Restorative, Consumable, Alchemical, Magical, Toxic, Nutritive. Choose 2–5 that describe the crafted result.
- Tool: Liquid, Heat-Safe, Glass, Grinding, Dry, Ceramic, Metal, High-Heat, General, Mixing, Herbal, Infusion, Cloth, Small, Portable. Choose 2–5 for recipe matching (e.g. potion recipes require Liquid container).


SKILL LEVEL GUIDANCE:
- 1: Common materials, basic crafting.
- 3–5: Uncommon materials, intermediate recipes.
- 6–8: Rare materials, advanced recipes.
- 9–10: Very rare/legendary materials, masterwork recipes.


QUIRK GUIDANCE (Components only):
- Soothing: Calming, restorative. Volatile: Unstable, reactive. Unstable: Degrades or changes. Resonant: Magical resonance. Use null if none.


BIOMES GUIDANCE (Components only):
Use ARCTIC, COASTAL, DESERT, FOREST, GRASSLAND, HILL, MOUNTAIN, PLANAR, SWAMP, UNDERDARK, UNDERWATER, URBAN. Match where the ingredient would naturally be found.



----------------------------
JSON TEMPLATE: MINIMAL
(for inert raw materials)
----------------------------

{
  "name": "ITEMNAME",
  "type": "ITEMTYPE",
  "img": "",
  "description": "ITEMDESCRIPTION",
  "weight": ITEMWEIGHT,
  "price": ITEMPRICE,
  "rarity": "ITEMRARITY",
  "flags": {
    "coffee-pub-artificer": {
      "artificerType": "Component",
      "artificerFamily": "FAMILY",
      "artificerTraits": ["TRAIT1", "TRAIT2"],
      "artificerSkillLevel": 1,
      "artificerQuirk": null,
      "artificerBiomes": ["BIOME1", "BIOME2"],
      "artificerAffinity": null
    }
  }
}

----------------------------
JSON TEMPLATE: FULL
(for items with use effects: healing, poison, magic)
----------------------------

Add optional "system" when the ITEM has usable properties. The importer preserves the full structure.

{
  "name": "ITEMNAME",
  "type": "consumable",
  "img": "",
  "description": "ITEMDESCRIPTION",
  "weight": ITEMWEIGHT,
  "price": ITEMPRICE,
  "rarity": "ITEMRARITY",
  "system": {
    "description": { "value": "ITEMDESCRIPTION", "chat": "", "unidentified": "" },
    "source": { "value": "ITEMSOURCE", "custom": "ITEMSOURCE", "ITEMLICENSE": "" },
    "quantity": 1,
    "weight": ITEMWEIGHT,
    "price": { "value": ITEMPRICE, "denomination": "gp" },
    "rarity": "ITEMRARITY",
    "identified": true,
    "consumableType": "potion|poison|food|trinket|other",
    "foodType": "food|water|food & water",
    "uses": { "value": 1, "max": 1, "per": "charges" },
    "destroyOnEmpty": true,
    "consumptionMagical": true,
    "recoveryPeriod": "none",
    "activities": [
      {
        "id": "USE_ID",
        "activityType": "Heal|Damage|Save|Use|...",
        "activityName": "Use",
        "activityFormula": "2d4+2",
        "activityEffectType": "healing|damage|temphp|...",
        "activityEffectDie": "d4",
        "activityEffectBonus": 2,
        "damageType": "poison|fire|cold|necrotic|acid|..."
      }
    ]
  },
  "flags": {
    "coffee-pub-artificer": {
      "artificerType": "Component",
      "artificerFamily": "FAMILY",
      "artificerTraits": ["TRAIT1", "TRAIT2"],
      "artificerSkillLevel": 1,
      "artificerQuirk": null,
      "artificerBiomes": [],
      "artificerAffinity": null
    }
  }
}

Note: For essences (Life Essence, Fire Essence, etc.), use artificerType "Component", artificerFamily "Essence", and set artificerAffinity (e.g. "Heat", "Cold"). This template is for components/creations/tools only.

----------------------------
USAGE INSTRUCTIONS
----------------------------

When asked to generate an Artificer ITEM, create a flavorful raw material suitable for exploration-heavy, narrative-rich D&D 5e campaigns. Consider:
- Herbs: Lavender, Nightshade, Bloodroot, Frostcap Bloom, Sun Orchid
- Minerals: Iron Ore, Copper Ore, Silver Ore, Adamantine Shard
- Gems: Quartz Crystal, Ruby Dust, Arcane Crystal, Resonant Sapphire
- Creature Parts: Bone Shard, Venom Sac, Spider Silk, Dragon Scale Fragment
- Environmental: Spring Water, Volcanic Ash, Frost Essence, Shadow Residue

Inject mystery or regional flavor. Make the party wonder where it came from and what it can craft.

Additional settings:
- SOURCE: use "Artificer" if not specified. Never use "[ADD-ITEM-SOURCE-HERE]"
- Campaign: "[ADD-CAMPAIGN-NAME-HERE]"
- Rulebooks: [ADD-RULEBOOKS-HERE]
- Ask clarifying questions if something is ambiguous.

========================================
OUTPUT FORMAT
========================================

Provide a valid, copy-pasteable JSON block inside json code fences. No image generation unless explicitly requested.

```json
{ ... }
```

========================================
(2) SQUARE IMAGE 
========================================


[ITEMNAME]: 
[NUANCE]: empty

Generate a tight, straight-on item portrait of a [ITEMNAME], fantasy RPG ITEM, facing directly toward the camera with a, frontal perspective only. 

Framing is a close item portrait. The item dominates the frame. 

Apply [NUANCE] as subtle, controlled adjustments while preserving composition, framing, and camera angle.
- Do not introduce new framing.
- Do not introduce new camera angles, or framing changes.

If attached, use the attached image strictly as a visual design reference only. Do not copy pose, camera angle, or perspective from the image.

Painterly ink-and-wash illustration style with visible hand-drawn linework, sketch-like outlines, and textured brush strokes. Strong pen lines define facial features, wrinkles, scars, and anatomy. Subtle cross-hatching and loose ink strokes remain visible. Warm directional rim lighting with golden highlights along the edges of the item, soft ambient fill, cinematic contrast. Muted earthy color palette with warm ochres, browns, and desaturated reds unless overridden by [NUANCE]. Slightly weathered, gritty surface texture. Semi-realistic proportions with stylized exaggeration. No smooth airbrushing. No photorealism.

Simple, unobtrusive background with soft gradients and faint atmospheric particles. Background does not influence camera angle, lighting direction, or framing. Fantasy concept art, tabletop RPG item portrait, dramatic mood, hand-illustrated look, high detail, sharp focus, square composition.

Camera and framing constraints are mandatory: frontal view, eye-level, straight-on portrait. Close crop. Item only. Avoid full props. Avoid cinematic pull-back.
- Do not create grids, panels, sheets, collages, contact sheets, or multiple images.

OUTPUT FORMAT:
- 1:1 square aspect ratio (1024x1024)
- Square canvas only. Do not generate portrait or landscape images.


========================================
CUSTOM INSTRUCTIONS
========================================

- Use minimal template for inert raw materials (ore, stone, dust); use full template with system when the ITEM has usable properties (healing herb, poison, magical component).
- Use namespaced flags only: flags["coffee-pub-artificer"] must have artificerType (Component|Creation|Tool), artificerFamily (from schema), and artificerTraits (non-empty array). Use D&D 5e rarity (Very Rare, not Epic). No primaryTag, secondaryTags, or type "ITEM".
- Traits drive crafting outcomes—choose 2–5 tags that make sense for the ITEM.
- Keep biomes relevant to where the ITEM would naturally be found (Components only).
- Preserve full D&D 5e consumable structure so items work in FoundryVTT and with other modules (e.g., Blacksmith).