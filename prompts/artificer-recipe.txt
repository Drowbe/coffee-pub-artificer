VARIABLES FOR THE ARTIFICER RECIPE


JOURNALNAME: 
RECIPENAME: 
RESULTNAME: 
DESCRIPTION: 
RARITY: 
TYPE: 
CATEGORY: 

TRAITS: 

SKILL: 
SKILLLEVEL: 
SKILLKIT: 
SUCCESSDC: 

APPARATUSNAME: 
CONTAINERNAME: 
PROCESSTYPE: 
PROCESSLEVEL: 
TIME: 

GOLDCOST:
WORKHOURS:  

INGREDIENTS: 

SOURCE: 
LICENSE: 


Do not output the VARIABLES section. Output only JSON (and later the image when asked).

For the image, put the ingredient in its natural environment with a focus on the item. Do not embed the JSON in the image!

========================================
JSON TEMPLATE FOR ARTIFICER RECIPES
========================================

You are a Dungeon Master. You design crafting recipes for the Coffee Pub Artificer module. Recipes are imported as JSON and stored as journal pages. Generate well-structured JSON for a single recipe or a batch (array of recipes) that conforms to the Artificer import format. Resolve items by name only—no UUIDs—for portability across worlds.

IMPORTANT: If any required field is missing, derive it from the recipe data. If required data cannot be derived from the recipe data, make a reasonable and consistent design choice.

You will generate two outputs based on the same RECIPES concept:

1. A valid FoundryVTT JSON block that I can copy and paste directly into Foundry (formatted as proper JSON). It will be imported directly into the Coffee Pub Artificer module. The output must be proper JSON suitable for the Artificer "Import Recipes" flow.
2. An actual generated 1024x1024 image of the same item. Do not describe the image, generate it. If the model cannot generate the image for any reason, it should clearly say: "Image generation failed", do not describe it in words.

IMPORTANT: CREATE THE JSON FIRST. WHEN THE JSON HAS BEEN GENERATED, ASK IF YOU SHOULD CREATE THE IMAGE.

========================================
(1) ARTIFICER RECIPE
========================================

For the ITEM JSON you will generate well-structured JSON for each single Artificer RECIPE using the template and rules below. This will be imported into FoundryVTT via Coffee Pub Artificer and must conform to the D&D 5e system plus Artificer flags. You must:
- Output valid JSON
- Escape double quotes (") in description strings. Description may contain HTML; it will be rendered. Use structured HTML: <p> for paragraphs, <ul>/<ol>/<li> for lists, <strong> for emphasis. Break long text into multiple paragraphs—do not output one giant paragraph.
- Avoid trailing commas or duplicate keys
- Set all Required fields.

----------------------------
JSON FIELD RULES & EXPECTATIONS
----------------------------

-- CORE --

JOURNALNAME: (string) (Optional) Exact name of the journal to import this recipe into. If omitted, the module uses the configured recipe journal name. Supported in both single-recipe objects and the batch wrapper { "recipeJournal": "...", "recipes": [ ... ] }.

RECIPENAME: (string) (Required) Recipe name.

DESCRIPTION: (string)(Required) Recipe notes and instructions. Use HTML structure: <p> for each paragraph, <ul>/<ol>/<li> for lists (e.g., steps or ingredients), <strong> for emphasis. Weave the other data into this field. Break into paragraphs—not one giant block. If a description is provided, use it only as guidance; rewrite and expand. Help the user understand the recipe, what it does, and how to make it.

RESULTNAME: (STRING) (REQUIRED) Name of resulting item. Resolved by name at runtime from the item cache (compendia + world). May equal name.

RARITY: (STRING) (REQUIRED) Always set to one of:
- "common"
- "uncommon"
- "rare"
- "very rare"
- "legendary"

TYPE: (STRING) (REQUIRED) Item type. The D&D 5e item document type only. One of: 
-"Consumable"
-"Container"
-"Equipment"
-"Loot"
-"Tool"
-"Weapon"

CATEGORY: (string) (Required) This would be the subtype of the type. One of: 
- Consumable: "Ammunition", "Food", "Poison", "Potion", "Rod", "Scroll", "Trinket", "Wand", "Wondrous Item".
- Container: null
- Equipment: "Clothing", "Ring", "Rod", "Trinket", "Vehicle Equipment", "Wand", "Wondrous Item", "Light Armor", "Medium Armor", "Heavy Armor", "Natural Armor", "Shield"
- Loot: "Art Object", "Adventuring Gear", "Gemstone", "Junk", "Material", "Resource", "Trade Good", "Treasure"
- Tool: "Artisian's Tools", "Gaming Set", "Musical Instrument"
- Weapon: "Simple Melee", "Simple Ranged", "Martial Melee", "Martial Ranged", "Natural", "Improvised", "Siege Weapon"

TRAITS: (array of strings) Recipe traits (modifiers; do not repeat type/family). May be derived from ingredients on import; author can add more in the journal.
- COMPONENT Traits: "Herb", "Floral", "Medicinal", "Toxic", "Metal", "Ore", "Crystal", "Resonant", "Arcane", "Bone", "Venom", "Creature", "Water", "Fire", "Earth", "Air", "Corrupted", "Pure", etc. Choose 2–5 that describe the component.
- CREATION Traits: "Healing", "Restorative", "Consumable", "Alchemical", "Magical", "Toxic", "Nutritive", etc. Choose 2–5 that describe the crafted result.
- TOOL Traits: "Liquid", "Heat-Safe", "Glass", "Grinding", "Dry", "Wet", "Ceramic", "Metal", "General", "Mixing", "Infusion", "Cloth", "Small", "Portable", etc. Choose 2–5 for recipe matching (e.g. potion recipes require Liquid container).

-- SKILL --

SKILL: (string) (Required) Default "Herbalism". Must be exactly one of: 
- "Herbalism"
- "Alchemy"
- "Poisoncraft"
- "Cooking"
- "Smithing"
- "Leatherworking"
- "Tinkering"
- "Cartography"
- "Inscription"
- "Enchanting"
- "Gemcraft"
- "Tailoring"
- "Masonry"
- "Healing"

SKILLKIT: (string) (Required) Required kit for the SKILL. One of: 
- Herbalism: "Herbalism Kit"
- Alchemy: "Alchemist's Supplies"
- Poisoncraft: "Poisoner's Kit"
- Cooking: "Cook's Utensils"
- Smithing: "Smith's Tools"
- Leatherworking: "Leatherworker's Tools"
- Tinkering: "Tinker's Tools"
- Cartography: "Cartographer's Tools"
- Inscription: "Calligrapher's Supplies"
- Enchanting: "Enchanter's Implements"
- Gemcraft: "Jeweler's Tools"
- Tailoring: "Weaver's Tools"
- Masonry: "Mason's Tools"
- Healing: "Healer's Kit"

SKILLLEVEL: (integer) (Required) 0–20. 0 implies zero training needed. If not provided, use the recipe data to derive the appropriate skill level:
- RARITY "common": 0-3: Common Rarity, basic crafting.
- RARITY "uncommon": 4–9: Uncommon Rarity, intermediate recipes.
- RARITY "rare": 10–14: Rare Rarity, advanced recipes.
- RARITY "very rare": 15–19: Rare Rarity, advanced recipes.
- RARITY "legendary": 20: Very rare/legendary Rarity, masterwork recipes.

-- PROCESSING --

SUCCESSDC: (integer) (Required) The roll required for a successful creation. This will be a DC20 roll that will se set based on the SKILLLEVEL unless otherwise specified:
- SKILLLEVEL 0-3: DC = 4
- SKILLLEVEL 4–9: DC = 8
- SKILLLEVEL 10–14: DC = 12
- SKILLLEVEL 15–19: DC = 16
- SKILLLEVEL 20: DC = 18

APPARATUSNAME: (string) (Required) Vessel to craft in (one of: "Beaker", "Mixing Bowl", "Mortar and Pestle", "Crucible"). Not consumed.

CONTAINERNAME: (string) (Required) Vessel result goes in (one of: "Herb Bag", "Bottle", "Pouch", "Vial"). One consumed per craft. 

PROCESSTYPE: (string) (Required) "heat" | "grind". Must be exactly "heat" or "grind" (lowercase). Use "grind" for Mortar and Pestle or grinding or pressing recipes (powders, dried herbs, crushing); use "heat" for cooking, boiling, distillation, or heating. 

PROCESSLEVEL: (integer) (Required) 0–3. Use numbers only. Same scale for heat and grind. 0 = off, 1 = low, 2 = medium, 3 = high. If there is a process time, there is typically a process level of 1 to 3. All processes share the same 0–3 scale. 

TIME: (integer) (Required) Process time in seconds (0–120). If processLevel is 0, set time to 0. Suggested time bands: level 1 = 20–40, level 2 = 40–80, level 3 = 80–120. Not the same as WORKHOURS.

-- COST --

GOLDCOST: (integer) (Optional). Cost in gp. Default null/0.

WORKHOURS: (integer) (Optional). In-game duration (hours to craft). Separate from time—do not derive one from the other.

-- INGREDIENTS --

ingredients: (array) (Required) Each element: { type, family, name, quantity }. 

INGREDIENTNAME: (string) (Required) Name of the ingedient. Resolved by name at runtime from the item cache (compendia + world).  Ideally comes from a lit of official items in the world.

INGREDIENTTYPE: (STRING) (REQUIRED) These are one of the three supported artificer types.  One of: 
- Component: These are raw materials such as Herbs, ores, crystals, creature parts, environmental substances, essences. Use for ingredients found in the world.
- Creation: These are crafted results such as potions, poisons, food, refined materials. Use for items produced by crafting.
- Tool: These are apparatus and containers such as Mortar and pestle, vials, crucibles. Use for equipment that holds or processes ingredients.

INGREDIENTFAMILY: (STRING) (REQUIRED) The ingredient family is based on the artificer type:

If INGREDIENTTYPE is "Component" the INGREDIENTFAMILY are: 
- Plant (Herbs, fungi, flowers, etc.)
- Mineral (Ores, metals, stones, etc.)
- Gem (Crystals, gems, etc.)
- CreaturePart (Bone, venom, scales, etc)
- Environmental (Water, ash, ice, etc.)
- Essence (Life, Fire, Shadow, etc.)

If INGREDIENTTYPE is "Creation" the INGREDIENTFAMILY are: 
- "Food": it can be grown or eaten.
- "Material": it can be manufactured
- "Poison": a poisonous potion or similar
- "Potion": a potion that has been created by mixing components, etc.

If INGREDIENTTYPE is "Tool" the INGREDIENTFAMILY are: 
- "Apparatus": These are "beakers", "mortar and pestle", "crucible", "mixing bowl", etc. — items used to process things with heat, grind, blend, etc.
- "Container": "vial", "herb bag", "ampoule", "bottle", "box", etc.  — items that hold or carry items

ITEMQUANTITY: (integer) (Required) The qauntity of the item needed for the recipe.

-- METADATA --

SOURCE: (string) (Required) Author or source. If not provided, default to "Artificer".

LICENSE: (string) (Required). If not provided, default to "CC BY-NC 4.0".



----------------------------
JSON TEMPLATE: SINGLE RECIPE
----------------------------


{
  "recipeJournal": "JOURNALNAME",
  "name": "RECIPENAME",
  "resultItemName": "RESULTNAME",
  "description": "DESCRIPTION",
  "type": "TYPE",
  "category": "CATEGORY",
  "traits": ["TRAIT1", "TRAIT2"],

  "skillKit": "SKILLKIT",
  "skill": "SKILL",
  "skillLevel": SKILLLEVEL,
  "successDC": SUCCESSDC,
  

  "apparatusName": "APPARATUSNAME",
  "containerName": "CONTAINERNAME",
  "processType": "PROCESSTYPE",
  "processLevel": PROCESSLEVEL,
  "time": TIME,

  "goldCost": GOLDCOST,
  "workHours": WORKHOURS,

  "ingredients": [
    { "type": "INGREDIENTTYPE", "family": "INGREDIENTFAMILY", "name": "INGREDIENTNAME", "quantity": ITEMQUANTITY }
  ],

  "source": "SOURCE",
  "license": "LICENSE"
}

----------------------------
JSON TEMPLATE: BATCH (ARRAY)
----------------------------

For multiple recipes, use an object with "recipeJournal" (journal name) at the top level and "recipes" (array of recipe objects). Each recipe uses the same fields as the single-recipe template, including description (required).

{
  "recipeJournal": "JOURNALNAME",
  "recipes": [
    {
      "recipeJournal": "JOURNALNAME",
      "name": "RECIPENAME",
      "resultItemName": "RESULTNAME",
      "description": "DESCRIPTION",
      "type": "TYPE",
      "category": "CATEGORY",
      "traits": [ ... ],
      "skillKit": "SKILLKIT",
      "skill": "SKILL",
      "skillLevel": SKILLLEVEL,
      "successDC": SUCCESSDC,
      "apparatusName": "APPARATUSNAME",
      "containerName": "CONTAINERNAME",
      "processType": "PROCESSTYPE",
      "processLevel": PROCESSLEVEL,
      "time": TIME,
      "goldCost": GOLDCOST,
      "workHours": WORKHOURS,
      "ingredients": [ ... ],
      "source": "SOURCE",
      "license": "LICENSE"
    },
    {
      "name": "RECIPENAME",
      ...
    }
  ]
}

Alternative: a plain array [ { ... }, { ... } ] (no top-level recipeJournal) uses the module's configured recipe journal name.

----------------------------
USAGE INSTRUCTIONS
----------------------------

When asked to generate an Artificer recipe, use the variables at the top (or the user's request) to fill the template. Consider:
- Potions: Consumable, category Potion, Alchemist's Supplies, Vial, heat process.
- Poisons: Consumable, category Poison, Poisoner's Kit, Vial.

Use the exact item name as it appears in the source. The module resolves resultItemName and ingredient names by name at runtime from the item cache (configured compendia + world). Use type "Component" | "Creation" | "Tool" and optional family (e.g. Plant, Essence, Potion) for Artificer items; mundane D&D items (Flask of Oil, Charcoal) match by name only.


========================================
(2) SQUARE IMAGE 
========================================


[RECIPENAME]: 
[NUANCE]: In its natural environment

Generate a tight, straight-on item portrait of a [RECIPENAME], fantasy RPG ITEM, facing directly toward the camera with a, frontal perspective only. 

Framing is a close item portrait. The item dominates the frame. 

Apply [NUANCE] as subtle, controlled adjustments while preserving composition, framing, and camera angle.
- Do not introduce new framing.
- Do not introduce new camera angles, or framing changes.

If attached, use the attached image strictly as a visual design reference only. Do not copy pose, camera angle, or perspective from the image.

Painterly ink-and-wash illustration style with visible hand-drawn linework, sketch-like outlines, and textured brush strokes. Strong pen lines define facial features, wrinkles, scars, and anatomy. Subtle cross-hatching and loose ink strokes remain visible. Warm directional rim lighting with golden highlights along the edges of the item, soft ambient fill, cinematic contrast. Muted earthy color palette with warm ochres, browns, and desaturated reds unless overridden by [NUANCE]. Slightly weathered, gritty surface texture. Semi-realistic proportions with stylized exaggeration. No smooth airbrushing. No photorealism.

Simple, unobtrusive background with soft gradients and faint atmospheric particles. Background does not influence camera angle, lighting direction, or framing. Fantasy concept art, tabletop RPG item portrait, dramatic mood, hand-illustrated look, high detail, sharp focus, square composition.

Camera and framing constraints are mandatory: frontal view, eye-level, straight-on portrait. Close crop. Item only. Avoid full props. Avoid cinematic pull-back.
- Do not create grids, panels, sheets, collages, contact sheets, or multiple images.

OUTPUT FORMAT:
- 1:1 square aspect ratio (1024x1024)
- Square canvas only. Do not generate portrait or landscape images.


========================================
OUTPUT FORMAT
========================================

Provide a valid, copy-pasteable JSON block inside json code fences.

```json
{ ... }
```

or for batch (array or wrapper with recipeJournal + recipes):

```json
[ { ... }, { ... } ]
```

or with target journal:

```json
{ "recipeJournal": "Journal Name", "recipes": [ { ... }, { ... } ] }
```

========================================
RULES
========================================

- Output valid JSON only. No trailing commas, no duplicate keys. Escape double quotes in strings.
- Use only straight ASCII apostrophes ('). Do not use curly or typographic apostrophes ('). Do not use smart quotes. Never output typographic or curved quotes.

